{
  "updatedAt": "2026-01-07T21:37:14.983Z",
  "createdAt": "2026-01-07T18:54:07.306Z",
  "id": "I2p7HP0MSQIvPSaq",
  "name": "Lead Generation from Google Maps Nocodb",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "id": "77d6c57a-3eb8-4910-91e9-a06d008e6c6c",
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -2352,
        1744
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "c72b885d-d61e-4996-80ef-4a6077c21fd5",
      "name": "Remove Duplicates",
      "type": "n8n-nodes-base.removeDuplicates",
      "position": [
        256,
        1840
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "dd598931-0616-4646-9b2b-8881b88d60f6",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        688,
        1840
      ],
      "typeVersion": 3
    },
    {
      "parameters": {
        "amount": 1
      },
      "id": "5d0707ec-2483-4bdd-a57b-3c3890c82cf7",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        1168,
        1904
      ],
      "webhookId": "23ab298e-886b-419d-9856-df2e48da2928",
      "typeVersion": 1.1
    },
    {
      "parameters": {},
      "id": "34d960bd-3112-4c82-a0d7-17489280be2d",
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "position": [
        912,
        1392
      ],
      "webhookId": "3fdc2a2d-5334-4be6-bb3f-8735a15af026",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "jsCode": "const input = $input.first().json.data\nconst regex = /https?:\\/\\/[^\\/\\s\"'>]+/g\nconst websites = input.match(regex)\nreturn websites.map(website => ({json:{website}}))"
      },
      "id": "fd2b13f1-2a50-48aa-bcb6-3e75453a1b8c",
      "name": "Extract URLs",
      "type": "n8n-nodes-base.code",
      "position": [
        -256,
        1888
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "url": "=https://www.google.com/maps/search/{{ $json['Keywords Search'] }}",
        "options": {
          "allowUnauthorizedCerts": false
        }
      },
      "id": "8c264344-f525-4b95-9f60-b857092a13a6",
      "name": "Scrape Google Maps",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -784,
        1840
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "bf0a5053-9660-457c-9581-964793bb6d7d",
              "operator": {
                "type": "string",
                "operation": "notContains"
              },
              "leftValue": "={{ $json.website }}",
              "rightValue": "schema"
            },
            {
              "id": "9110b9e0-12aa-45cc-bde0-9eda8c10970e",
              "operator": {
                "type": "string",
                "operation": "notContains"
              },
              "leftValue": "={{ $json.website }}",
              "rightValue": "google"
            },
            {
              "id": "fb9b6ed6-96a5-4560-ab10-b8a4b9a61a2b",
              "operator": {
                "type": "string",
                "operation": "notContains"
              },
              "leftValue": "={{ $json.website }}",
              "rightValue": "gg"
            },
            {
              "id": "10500c0b-cdbd-4816-aba3-df60d69845dc",
              "operator": {
                "type": "string",
                "operation": "notContains"
              },
              "leftValue": "={{ $json.website }}",
              "rightValue": "gstatic"
            }
          ]
        },
        "options": {}
      },
      "id": "5ad3539f-1627-4302-9d24-ead123daf720",
      "name": "Filter Google URLs",
      "type": "n8n-nodes-base.filter",
      "position": [
        32,
        1840
      ],
      "typeVersion": 2.2,
      "alwaysOutputData": false
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "91a987c9-1b29-455a-81c9-4c94d0cccdc8",
              "leftValue": "={{ $json['Keywords Search'] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            },
            {
              "id": "4d3e2ad4-7520-4282-b6bb-06b3cbfe615e",
              "leftValue": "={{ $json.Status }}",
              "rightValue": "Pending",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1232,
        1840
      ],
      "id": "f99f283c-db0c-4cf5-ad27-dfaa38465fc4",
      "name": "If"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        -1008,
        1840
      ],
      "id": "57ddf0e2-956c-47d1-abe1-d5436d6a4b31",
      "name": "Limit1"
    },
    {
      "parameters": {
        "url": "={{ $json.website }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        944,
        1904
      ],
      "id": "ecaefa00-a735-4c10-b072-c6d6487f4ab2",
      "name": "HTTP Request",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1kGgxT5YwE7vE8yOHbpiJKzxvD0lGYS-Cq7g4mzeLwjY",
          "mode": "list",
          "cachedResultName": "ZTechAI",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1kGgxT5YwE7vE8yOHbpiJKzxvD0lGYS-Cq7g4mzeLwjY/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1891079129,
          "mode": "list",
          "cachedResultName": "Keyword Search",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1kGgxT5YwE7vE8yOHbpiJKzxvD0lGYS-Cq7g4mzeLwjY/edit#gid=1891079129"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Status": "Completed",
            "Keywords Search": "={{ $('Get row(s) in sheet').item.json['Keywords Search'] }}"
          },
          "matchingColumns": [
            "Keywords Search"
          ],
          "schema": [
            {
              "id": "Keywords Search",
              "displayName": "Keywords Search",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1136,
        1392
      ],
      "id": "867e51ac-36a4-4ea9-be11-0dcff5675c5c",
      "name": "Update Keyword Search in Sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jwr2VJQX9ktvb4Sz",
          "name": "Zubair-1"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1kGgxT5YwE7vE8yOHbpiJKzxvD0lGYS-Cq7g4mzeLwjY",
          "mode": "list",
          "cachedResultName": "ZTechAI",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1kGgxT5YwE7vE8yOHbpiJKzxvD0lGYS-Cq7g4mzeLwjY/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1876557965,
          "mode": "list",
          "cachedResultName": "Raw Leads",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1kGgxT5YwE7vE8yOHbpiJKzxvD0lGYS-Cq7g4mzeLwjY/edit#gid=1876557965"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Website": "={{ $json.output.Website }}",
            "Email": "={{ $json.output['Email Address'] }}",
            "Phone Number": "={{ $json.output['Phone Number'] }}",
            "location": "={{ $json.output['Business Location'] }}",
            "Business Type": "={{ $json.output['Business Type'] }}",
            "chatbot": "={{ $json.output.Chatbot }}",
            "Appointment setter": "={{ $json.output['Appointment Scheduling'] }}",
            "Keyword Searched": "={{ $('Get row(s) in sheet').item.json['Keywords Search'] }}",
            "AI Audit": "={{ $json.output['AI Audit'] }}",
            "Services": "={{ $json.output.Services }}"
          },
          "matchingColumns": [
            "Website"
          ],
          "schema": [
            {
              "id": "Website",
              "displayName": "Website",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Phone Number",
              "displayName": "Phone Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "location",
              "displayName": "location",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Business Type",
              "displayName": "Business Type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "chatbot",
              "displayName": "chatbot",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Appointment setter",
              "displayName": "Appointment setter",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Services",
              "displayName": "Services",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "AI Audit",
              "displayName": "AI Audit",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Keyword Searched",
              "displayName": "Keyword Searched",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "useAppend": false
        }
      },
      "id": "b0ee9acc-37b0-4e53-b4bc-a07e181e1dda",
      "name": "Add data to Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2208,
        2032
      ],
      "typeVersion": 4.5,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jwr2VJQX9ktvb4Sz",
          "name": "Zubair-1"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.data }}",
        "hasOutputParser": true,
        "messages": {
          "messageValues": [
            {
              "message": "=You are a website scraping and data extraction agent.\n\nInput: You will be given raw scraped HTML of a website.  \nTask: Extract all possible business details and return them in a clean, normalized JSON object.\n\n### Rules:\n1. Always output a single JSON object in the exact schema below. No explanations, no markdown, no text outside JSON.\n2. Normalize data into consistent formats, even if the source format is messy:\n   - Website: full URL including https://\n   - Email Address: must be valid email format. If obfuscated (e.g., \"info[at]example[dot]com\"), convert to \"info@example.com\".\n   - Phone Number: convert to international format if possible (+CountryCode-XXX-XXX-XXXX). If not possible, return the number as-is without losing digits and add country code if it is also missing.\n   - Business Location: standardize as \"Street, City, State, Country\". If incomplete, return whatever is available.\n   - Business Type: return the specific type (e.g., Dental Clinic, Consultant, Restaurant).\n   - Chatbot: return \"Yes\" or \"No\" only.\n   - Appointment Scheduling: return \"Yes\" or \"No\" only.\n   - Services: always return a string. if services are more than one then include all services and separate them by comma \",\".\n   - AI Audit: short summary of AI/automation solutions observed (chatbot, appointment booking, FAQ AI, etc.). If none found, return \"No AI tools detected\".\n\n3. If any field is missing, infer from context if possible. Otherwise, leave it as an empty string \"\" or empty array [].\n4. Never omit fields from the JSON. Always return the complete schema.\n5. If the data you receive is not valid or the website does not exits and website scraping node sent an error, then return empty spaces at all fields without giving error.\n\n### Required JSON Schema:\n{\n  \"Website\": \"string\",\n  \"Email Address\": \"string\",\n  \"Phone Number\": \"string\",\n  \"Business Location\": \"string\",\n  \"Business Type\": \"string\",\n  \"Chatbot\": \"Yes or No\",\n  \"Appointment Scheduling\": \"Yes or No\",\n  \"Services\": \"string\",\n  \"AI Audit\": \"string\"\n}\n"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        1392,
        1904
      ],
      "id": "d463c549-ab72-4717-8692-06725db26157",
      "name": "Basic LLM Chain",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "model": "openai/gpt-oss-20b:free",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        1392,
        2128
      ],
      "id": "9178a56c-7a54-4dfd-94be-1c9a82a6e7b3",
      "name": "OpenRouter Chat Model1",
      "credentials": {
        "openRouterApi": {
          "id": "65mlukvVZpheBc3O",
          "name": "new openrouter key"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"Website\": \"https://citydentalclinic.com\",\n  \"Email Address\": \"info@citydentalclinic.com\",\n  \"Phone Number\": \"+1-202-555-0199\",\n  \"Business Location\": \"154 Main Street, Boulevard Road, Toronto, Canada\",\n  \"Business Type\": \"Dental Clinic\",\n  \"Chatbot\": \"No\",\n  \"Appointment Scheduling\": \"Yes\",\n  \"Services\": \"Teeth Whitening,Root Canal Treatment,Tooth Extraction\",\n  \"AI Audit\": \"Online appointment scheduler available. No chatbot detected. No AI-driven tools found.\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1520,
        2128
      ],
      "id": "b6e3d91c-54f9-48e5-a1b8-25f97a8c6481",
      "name": "Structured Output Parser1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "0ffce8da-0ddc-4d96-9f42-1c85b96cbe61",
              "leftValue": "={{ $json.output.Website }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1744,
        1904
      ],
      "id": "ba2e66c7-b3e1-4276-b660-b402f5863870",
      "name": "If1"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 6
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -2352,
        1936
      ],
      "id": "309fcac2-2bae-4799-8357-1bb622416eed",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "9d2b3ddf-0ca3-496f-b8e8-d0e55fb9a4f0",
              "name": "Base ID",
              "value": "p6zldf3034zct47",
              "type": "string"
            },
            {
              "id": "6b724aba-92ab-4afa-9b14-6a5f3a75f160",
              "name": "mail status table id",
              "value": "m43oc6qhtv52e6o",
              "type": "string"
            },
            {
              "id": "44fa9c2b-a5f3-4036-a49e-19d7c1afa429",
              "name": "raw leads table id",
              "value": "mhb9q9b7ic0mb05",
              "type": "string"
            },
            {
              "id": "49442297-3221-46b3-979b-2898dba3cb09",
              "name": "nocodb_api_Key",
              "value": "78xaXCzUBel19ptchaVIIkOfUUSiVZwAW7RhzBt3",
              "type": "string"
            },
            {
              "id": "ce5cb053-872f-4bd4-b5bc-15e8e73769c8",
              "name": "cloud base id",
              "value": "p6zldf3034zct47",
              "type": "string"
            },
            {
              "id": "b40d1f09-b231-4fd2-b55f-7c45cb14df54",
              "name": "cloud table id",
              "value": "mqhbjt2sd839fhc",
              "type": "string"
            },
            {
              "id": "ce206bb0-5629-4b44-8ce8-c6efdcd13db2",
              "name": "Keyword Search ID",
              "value": "mt7ws8timxtteoc",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -2128,
        1840
      ],
      "id": "ad2ce51e-a7bf-4689-b35b-3d6e3dc9e5df",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "fieldToSplitOut": "list",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -1680,
        1936
      ],
      "id": "19e743f1-8a8b-486f-ab4f-eb20b5d7b347",
      "name": "Split Out"
    },
    {
      "parameters": {
        "url": "=https://db.ztechai.us/api/v2/tables/{{ $json['raw leads table id'] }}/records",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "limit",
              "value": "10000"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "xc-token",
              "value": "=78xaXCzUBel19ptchaVIIkOfUUSiVZwAW7RhzBt3"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -1904,
        1936
      ],
      "id": "27da2005-a11d-4134-817a-6c29baad6e65",
      "name": "Raw Leads All records"
    },
    {
      "parameters": {
        "url": "=https://db.ztechai.us/api/v2/tables/{{ $json['Keyword Search ID'] }}/records",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "limit",
              "value": "10000"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "xc-token",
              "value": "=78xaXCzUBel19ptchaVIIkOfUUSiVZwAW7RhzBt3"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -1904,
        1744
      ],
      "id": "58f8328f-a43d-4d1a-a9d4-548b77127312",
      "name": "Keyword Search All records"
    },
    {
      "parameters": {
        "fieldToSplitOut": "list",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -1680,
        1744
      ],
      "id": "f2609a68-396d-4b90-9946-53a4fc8efc92",
      "name": "Split Out1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -1456,
        1840
      ],
      "id": "b8d81837-a6e8-4a4b-950a-4ca59196e34b",
      "name": "Merge"
    },
    {
      "parameters": {
        "maxItems": 3
      },
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        464,
        1840
      ],
      "id": "f2032e1f-e658-4194-94b9-bcd99e7073cc",
      "name": "Limit"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://app.nocodb.com/api/v2/tables/{tableId}/records",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        1952,
        1808
      ],
      "id": "5e0f09a5-a57c-4141-8095-f0d73508c1d9",
      "name": "HTTP Request1"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.data }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=you are excellent data scraper. the input your are give is the dearch data of google maps and your goals is to extract the urls of realtime businesses who have thier website. \n\nand respond the data in a respective structured output as given below\n\n{\n\t\"Business Name\": \"California\",\n\t\"URL\": \"Los Angeles\"\n}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        -624,
        2176
      ],
      "id": "b517b648-9148-49b4-9878-f37ac7cc1853",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "openai/gpt-5-mini",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -720,
        2048
      ],
      "id": "e1f8e285-9d94-4060-99ec-94a84a45f119",
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "id": "65mlukvVZpheBc3O",
          "name": "new openrouter key"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n\t\"Business Name\": \"California\",\n\t\"URL\": \"Los Angeles\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        -416,
        2048
      ],
      "id": "282768d4-7d10-424c-b986-9cabfcb10c5b",
      "name": "Structured Output Parser"
    }
  ],
  "connections": {
    "Wait": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Update Keyword Search in Sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract URLs": {
      "main": [
        [
          {
            "node": "Filter Google URLs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Duplicates": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter Google URLs": {
      "main": [
        [
          {
            "node": "Remove Duplicates",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Scrape Google Maps": {
      "main": [
        [
          {
            "node": "Extract URLs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Test workflow’": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Limit1",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "Limit1": {
      "main": [
        [
          {
            "node": "Scrape Google Maps",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add data to Sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Raw Leads All records",
            "type": "main",
            "index": 0
          },
          {
            "node": "Keyword Search All records",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Raw Leads All records": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Keyword Search All records": {
      "main": [
        [
          {
            "node": "Split Out1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request1": {
      "main": [
        [
          {
            "node": "Add data to Sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": "UUKqPWIjdYo6Togj",
    "timeSavedPerExecution": 40,
    "availableInMCP": false
  },
  "staticData": {
    "node:Schedule Trigger": {
      "recurrenceRules": []
    }
  },
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "66417a5b-c1ca-4b1c-b70d-9a36fbf5d103",
  "activeVersionId": null,
  "triggerCount": 1,
  "shared": [
    {
      "updatedAt": "2026-01-07T18:54:07.306Z",
      "createdAt": "2026-01-07T18:54:07.306Z",
      "role": "workflow:owner",
      "workflowId": "I2p7HP0MSQIvPSaq",
      "projectId": "KyK2NGi92B9PeHQl"
    }
  ],
  "activeVersion": null,
  "tags": [
    {
      "updatedAt": "2025-09-10T17:04:58.587Z",
      "createdAt": "2025-09-10T17:04:58.587Z",
      "id": "1lnZqEWBrKP3wUi2",
      "name": "Leads"
    }
  ]
}